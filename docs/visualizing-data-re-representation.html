<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Lesson Modules for Teaching Visual Analytics</title>
  <meta name="description" content="A set of lesson notes to accompany the book Foundations and Application of Statistics: An Introduction Using R by Randall Pruim. This is for a one semester course and does not use the entire book.">
  <meta name="generator" content="bookdown 0.5 and GitBook 2.6.7">

  <meta property="og:title" content="Lesson Modules for Teaching Visual Analytics" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="A set of lesson notes to accompany the book Foundations and Application of Statistics: An Introduction Using R by Randall Pruim. This is for a one semester course and does not use the entire book." />
  <meta name="github-repo" content="BawCOS/undergraduate-statistics-notes" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Lesson Modules for Teaching Visual Analytics" />
  
  <meta name="twitter:description" content="A set of lesson notes to accompany the book Foundations and Application of Statistics: An Introduction Using R by Randall Pruim. This is for a one semester course and does not use the entire book." />
  

<meta name="author" content="Bradley Warner">
<meta name="author" content="David Ebert">


<meta name="date" content="2018-03-08">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="AR1.html">
<link rel="next" href="interaction.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="libs/htmlwidgets-0.9/htmlwidgets.js"></script>
<script src="libs/datatables-binding-0.2/datatables.js"></script>
<link href="libs/dt-core-1.10.12/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.10.12/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.10.12/js/jquery.dataTables.min.js"></script>
<script src="libs/plotly-binding-4.7.1/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.0.0/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.0.0/js/crosstalk.min.js"></script>
<link href="libs/plotlyjs-1.29.2/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotlyjs-1.29.2/plotly-latest.min.js"></script>
<link href="libs/jquery-ui-1.11.4/jquery-ui.min.css" rel="stylesheet" />
<script src="libs/jquery-ui-1.11.4/jquery-ui.min.js"></script>
<script src="libs/jquery-ui-1.11.4/jquery.ui.touch-punch.min.js"></script>
<link href="libs/c3-0.4.11/c3.min.css" rel="stylesheet" />
<script src="libs/c3-0.4.11/c3.min.js"></script>
<script src="libs/d3-3.5.9/d3.min.js"></script>
<link href="libs/pivottable-2.11.0/pivot.min.css" rel="stylesheet" />
<script src="libs/pivottable-2.11.0/pivot.min.js"></script>
<script src="libs/pivottable_d3renderers-2.11.0/d3_renderers.min.js"></script>
<script src="libs/pivottable_c3renderers-2.11.0/c3_renderers.min.js"></script>
<script src="libs/polyfill-0.1/polyfill.min.js"></script>
<link href="libs/rpivotTable_style-0.1/rpivotTable.css" rel="stylesheet" />
<script src="libs/rpivotTable-binding-0.2.0/rpivotTable.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="libs/bootstrap-3.3.2/css/bootstrap.min.css" rel="stylesheet" />
<script src="libs/bootstrap-3.3.2/js/bootstrap.min.js"></script>
<link href="libs/ionrangeslider-2.1.2/css/ion.rangeSlider.css" rel="stylesheet" />
<link href="libs/ionrangeslider-2.1.2/css/ion.rangeSlider.skinShiny.css" rel="stylesheet" />
<script src="libs/ionrangeslider-2.1.2/js/ion.rangeSlider.min.js"></script>
<script src="libs/strftime-0.9.2/strftime-min.js"></script>
<link href="libs/selectize-0.11.2/css/selectize.bootstrap3.css" rel="stylesheet" />
<script src="libs/selectize-0.11.2/js/selectize.min.js"></script>
<link href="libs/d3scatter-0.0.0/d3scatter.css" rel="stylesheet" />
<script src="libs/d3scatter-0.0.0/d3scatter.js"></script>
<script src="libs/d3scatter-binding-0.1.0/d3scatter.js"></script>


<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Lesson Notes for Visual Analytics</a></li>
<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a><ul>
<li class="chapter" data-level="0.1" data-path="who-is-this-book-for.html"><a href="who-is-this-book-for.html"><i class="fa fa-check"></i><b>0.1</b> Who is this book for?</a></li>
<li class="chapter" data-level="0.2" data-path="book-structure-and-how-to-use-it.html"><a href="book-structure-and-how-to-use-it.html"><i class="fa fa-check"></i><b>0.2</b> Book Structure and How to Use It</a></li>
<li class="chapter" data-level="0.3" data-path="prerequisites.html"><a href="prerequisites.html"><i class="fa fa-check"></i><b>0.3</b> Prerequisites</a></li>
<li class="chapter" data-level="0.4" data-path="acknowledgements.html"><a href="acknowledgements.html"><i class="fa fa-check"></i><b>0.4</b> Acknowledgements</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="Chpt1.html"><a href="Chpt1.html"><i class="fa fa-check"></i><b>1</b> Introducing Visual Analytics - Emphasis on Analytic Reasoning</a><ul>
<li class="chapter" data-level="1.1" data-path="pre-class-notes.html"><a href="pre-class-notes.html"><i class="fa fa-check"></i><b>1.1</b> Pre-Class Notes</a></li>
<li class="chapter" data-level="1.2" data-path="Intro1.html"><a href="Intro1.html"><i class="fa fa-check"></i><b>1.2</b> Lesson Introduction</a></li>
<li class="chapter" data-level="1.3" data-path="AR1.html"><a href="AR1.html"><i class="fa fa-check"></i><b>1.3</b> Analytic Reasoning</a><ul>
<li class="chapter" data-level="1.3.1" data-path="AR1.html"><a href="AR1.html#analytic-reasoing-explained"><i class="fa fa-check"></i><b>1.3.1</b> Analytic Reasoing Explained</a></li>
<li class="chapter" data-level="1.3.2" data-path="AR1.html"><a href="AR1.html#example"><i class="fa fa-check"></i><b>1.3.2</b> Example</a></li>
<li class="chapter" data-level="1.3.3" data-path="AR1.html"><a href="AR1.html#second-example"><i class="fa fa-check"></i><b>1.3.3</b> Second Example</a></li>
<li class="chapter" data-level="1.3.4" data-path="AR1.html"><a href="AR1.html#other-problem-ideas"><i class="fa fa-check"></i><b>1.3.4</b> Other problem ideas:</a></li>
<li class="chapter" data-level="1.3.5" data-path="AR1.html"><a href="AR1.html#using-analytic-reasoning."><i class="fa fa-check"></i><b>1.3.5</b> Using Analytic Reasoning.</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="visualizing-data-re-representation.html"><a href="visualizing-data-re-representation.html"><i class="fa fa-check"></i><b>1.4</b> Visualizing data (Re-representation)</a><ul>
<li class="chapter" data-level="1.4.1" data-path="visualizing-data-re-representation.html"><a href="visualizing-data-re-representation.html#background-on-visualizing-data"><i class="fa fa-check"></i><b>1.4.1</b> Background on Visualizing Data</a></li>
<li class="chapter" data-level="1.4.2" data-path="visualizing-data-re-representation.html"><a href="visualizing-data-re-representation.html#using-problem"><i class="fa fa-check"></i><b>1.4.2</b> Using Problem</a></li>
<li class="chapter" data-level="1.4.3" data-path="visualizing-data-re-representation.html"><a href="visualizing-data-re-representation.html#discussion-ideas-4"><i class="fa fa-check"></i><b>1.4.3</b> Discussion ideas</a></li>
<li class="chapter" data-level="1.4.4" data-path="visualizing-data-re-representation.html"><a href="visualizing-data-re-representation.html#visualization"><i class="fa fa-check"></i><b>1.4.4</b> Visualization</a></li>
<li class="chapter" data-level="1.4.5" data-path="visualizing-data-re-representation.html"><a href="visualizing-data-re-representation.html#vectors-for-visualization"><i class="fa fa-check"></i><b>1.4.5</b> Vectors for Visualization</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="interaction.html"><a href="interaction.html"><i class="fa fa-check"></i><b>1.5</b> Interaction</a></li>
<li class="chapter" data-level="1.6" data-path="conclusion.html"><a href="conclusion.html"><i class="fa fa-check"></i><b>1.6</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="Chpt2.html"><a href="Chpt2.html"><i class="fa fa-check"></i><b>2</b> Exploratory Visual Analytics</a></li>
<li class="chapter" data-level="3" data-path="Chpt3.html"><a href="Chpt3.html"><i class="fa fa-check"></i><b>3</b> Data Visualiztions</a></li>
<li class="chapter" data-level="4" data-path="Chpt4.html"><a href="Chpt4.html"><i class="fa fa-check"></i><b>4</b> Interactions</a></li>
<li class="chapter" data-level="5" data-path="case-study.html"><a href="case-study.html"><i class="fa fa-check"></i><b>5</b> Case Study</a></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="AppA.html"><a href="AppA.html"><i class="fa fa-check"></i><b>A</b> Lesson Handouts</a></li>
<li class="chapter" data-level="B" data-path="AppB.html"><a href="AppB.html"><i class="fa fa-check"></i><b>B</b> Project</a><ul>
<li class="chapter" data-level="B.0.1" data-path="AppB.html"><a href="AppB.html#introduction"><i class="fa fa-check"></i><b>B.0.1</b> Introduction</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/BawCOS/undergraduate-statistics-notes" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Lesson Modules for Teaching Visual Analytics</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="visualizing-data-re-representation" class="section level2">
<h2><span class="header-section-number">1.4</span> Visualizing data (Re-representation)</h2>
<p>We are still in the transformation or re-representation of information phase. Visualization helps in this phase of the analysis project. We will present many different types of visualizations and this is a transition to the next phase of the analysis titled manipulation. Having to write code over and over with small changes will lead us to the interaction phase. We will first address visualization. Although some authors would not consider tables as a visualization of data, we do. In this section, we will use two different forms of visualization, both a table and a vector plot.</p>
<div id="background-on-visualizing-data" class="section level3">
<h3><span class="header-section-number">1.4.1</span> Background on Visualizing Data</h3>
<p>Data visualization is a complicated and important subject. You can get advanced degrees in the subject. We will only give the basics principles and ideas in this section. There are three things that should always inform the visual summary you select and/or design. First, you must decide which ideas are important to communicate to the reader. This requires you to identify your key message, filter and summarize the data to a point that maintains that message without over-compressing the data, and finally think about how to communicate this idea. Second, what is the reader’s background and how will they understand or what will they take away from the visualization? Tufte states that you should “respect your audience”. Think about such factors as how short-term memory limits the amount of information a reader can hold and how preattentive thought quickly picks up position, motion, shape, and color first. Finally, consider the data type(s), what are the advantages and disadvantages of the data, what information is contained in the data, and what tools are needed to visualize this data? For example, color does a nice job with discrete variables although it could be used as a gradient for continuous variables. Length is good for continuous variables. Area is difficult for readers to compare although rectangular is not as difficult because of the linear comparison of each side.</p>
<p>Figure <a href="visualizing-data-re-representation.html#fig:fig1">1.1</a>, adopted from <span class="citation">Friendly and Meyer (<a href="#ref-FriendlyMeyer:2016:DDAR">2016</a>)</span>, is an excellent framework for thinking about visualization. Often, we first start in the analysis phase. For our current problem we are in the analysis phase with comparison being the primary design principle; we want to compare Derek Jetter to David Justice. At the end of the analysis we must present the results and this puts us in the presentation section. In each case the reader is different. In the analysis phase, we, the analyst, are the reader and maybe a few others on the analysis team. In the presentation, the readers can be from a variety of backgrounds often leading to a simpler presentation.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">knitr<span class="op">::</span><span class="kw">include_graphics</span>(<span class="st">&quot;./images/VisPurpose.png&quot;</span>)</code></pre></div>
<div class="figure"><span id="fig:fig1"></span>
<img src="images/VisPurpose.png" alt="Visualization Purposes" width="576" />
<p class="caption">
Figure 1.1: Visualization Purposes
</p>
</div>
</div>
<div id="using-problem" class="section level3">
<h3><span class="header-section-number">1.4.2</span> Using Problem</h3>
<p>In the batting average problem, we have compressed the results of individual bats into an average. There was also the choice to leave year as a separate variable or to compress further into a single summary. The compression to a batting average, weather accounting for year or not, lost an important element of the data and that is the magnitude of number of bats. Understanding our reader, in this case the analyst but ultimately any reader for presentation, we should expect that most people will consider the value of the batting averages for each player during each year to be of equal value, that is they assume that the number of at bats is approximately equal. Thus, in this example they will either compare Derek Jeter against David Justice each year or simply average the two years into a single number to make a decision on the better batter. In either case, the reader may conclude that David Justice is the better batter. In developing our visual summaries we will have to take this into consideration.</p>
</div>
<div id="discussion-ideas-4" class="section level3">
<h3><span class="header-section-number">1.4.3</span> Discussion ideas</h3>
<p>The tables in the previous section are visual summaries but what are the limitations? What are the key idea(s) for this problem? How would you visualize this data?</p>
<p>Most students will only think about tables. In considering tables, how should the variables be ordered? That is, which variables should be rows and which should be columns? Should you use shading in the tables?</p>
</div>
<div id="visualization" class="section level3">
<h3><span class="header-section-number">1.4.4</span> Visualization</h3>
<p>We will examine two ways to visualize the data in our batting average problem. First we will continue to look at the tables and then move to a visualization that utilizes vectors.</p>
<div id="tables-for-visualization" class="section level4">
<h4><span class="header-section-number">1.4.4.1</span> Tables for Visualization</h4>
<p>In this section we will go through a series of tables and discuss advantages and disadvantages of each.</p>
<div id="first-table" class="section level5">
<h5><span class="header-section-number">1.4.4.1.1</span> First Table</h5>
<p>The first table from the software is a default and looks like</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">table</span>(MLB_long)</code></pre></div>
<pre><code>## , , Result = Hit
## 
##                Year
## Player          1995 1996
##   David Justice  104   45
##   Derek Jetter    12  183
## 
## , , Result = Out
## 
##                Year
## Player          1995 1996
##   David Justice  307   95
##   Derek Jetter    36  399</code></pre>
<p>Ask your students about their thoughts on this table.</p>
<p>Some ideas that may come include the lack of a title, the use of “, ,”, and having the split on result because it is difficult to mentally combine for comparison. Remember that the reader of this table is the analytic team. As an analyst, the use of “, ,”&quot; in the titles and the splitting of result into two table may not bother you but it is still inefficient. Plus you as the analyst want the ability to control how the variables are arranged.</p>
</div>
<div id="additional-tables" class="section level5">
<h5><span class="header-section-number">1.4.4.1.2</span> Additional Tables</h5>
<p>Let’s start by finding a better representation of the table.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ftable</span>(<span class="kw">table</span>(MLB_long))</code></pre></div>
<pre><code>##                    Result Hit Out
## Player        Year               
## David Justice 1995        104 307
##               1996         45  95
## Derek Jetter  1995         12  36
##               1996        183 399</code></pre>
<p>The advantage of this figure did not split the data. Note that the software automatically placed Player and Year in the rows. This placement makes it difficult to compare the years since they are separated by one line.</p>
<p>Next, we will sort the variables by the comparison we want to make. In this case we want players within years. This is called effect-ordering sorting <span class="citation">(Friendly and Kwan <a href="#ref-FRIENDLY2003509">2003</a>)</span>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ftable</span>(<span class="kw">table</span>(MLB_long),<span class="dt">row.vars=</span><span class="kw">c</span>(<span class="st">&quot;Year&quot;</span>,<span class="st">&quot;Player&quot;</span>))</code></pre></div>
<pre><code>##                    Result Hit Out
## Year Player                      
## 1995 David Justice        104 307
##      Derek Jetter          12  36
## 1996 David Justice         45  95
##      Derek Jetter         183 399</code></pre>
<p>As we discussed in Section <a href="Intro1.html#Intro1">1.2</a>, the transitions between analysis, visualization, and interaction may be a cycle. So next we need to get the number of at bats.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">data.frame</span>(MLB_long <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">   </span><span class="kw">group_by</span>(Player,Year,Result) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">   </span><span class="kw">summarise</span>(<span class="dt">Hits=</span><span class="kw">n</span>()) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">   </span><span class="kw">filter</span>(Result<span class="op">==</span><span class="st">&quot;Hit&quot;</span>) <span class="op">%&gt;%</span>
<span class="st">   </span><span class="kw">left_join</span>(MLB_long <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">               </span><span class="kw">group_by</span>(Player,Year) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">               </span><span class="kw">summarise</span>(<span class="dt">At_Bats=</span><span class="kw">n</span>()),<span class="dt">by=</span><span class="kw">c</span>(<span class="st">&quot;Player&quot;</span>,<span class="st">&quot;Year&quot;</span>)) <span class="op">%&gt;%</span>
<span class="st">   </span><span class="kw">select</span>(<span class="op">-</span>Result) <span class="op">%&gt;%</span>
<span class="st">   </span><span class="kw">arrange</span>(Year))</code></pre></div>
<pre><code>##          Player Year Hits At_Bats
## 1 David Justice 1995  104     411
## 2  Derek Jetter 1995   12      48
## 3 David Justice 1996   45     140
## 4  Derek Jetter 1996  183     582</code></pre>
<p>This is getting better although we lost year as an outer row variable and we still need average instead of hits.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">data.frame</span>(MLB_long <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">   </span><span class="kw">group_by</span>(Player,Year,Result) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">   </span><span class="kw">summarise</span>(<span class="dt">Hits=</span><span class="kw">n</span>()) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">   </span><span class="kw">filter</span>(Result<span class="op">==</span><span class="st">&quot;Hit&quot;</span>) <span class="op">%&gt;%</span>
<span class="st">   </span><span class="kw">left_join</span>(MLB_long <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">               </span><span class="kw">group_by</span>(Player,Year) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">               </span><span class="kw">summarise</span>(<span class="dt">At_Bats=</span><span class="kw">n</span>()),<span class="dt">by=</span><span class="kw">c</span>(<span class="st">&quot;Player&quot;</span>,<span class="st">&quot;Year&quot;</span>)) <span class="op">%&gt;%</span>
<span class="st">   </span><span class="kw">mutate</span>(<span class="dt">Average=</span>Hits<span class="op">/</span>At_Bats) <span class="op">%&gt;%</span>
<span class="st">   </span><span class="kw">select</span>(Year, Player,Average,At_Bats) <span class="op">%&gt;%</span>
<span class="st">   </span><span class="kw">arrange</span>(Year))</code></pre></div>
<pre><code>##   Year        Player   Average At_Bats
## 1 1995 David Justice 0.2530414     411
## 2 1995  Derek Jetter 0.2500000      48
## 3 1996 David Justice 0.3214286     140
## 4 1996  Derek Jetter 0.3144330     582</code></pre>
<p>This is a nice summary and makes it clear that we have years with a small number of at bats. We still have to clean up some things to improve the visualization. What are some ideas to improve it?</p>
<p>A caption should be provided with enough detail to describe the table. In addition, the default of 7 decimal places is too much. We will use 4 decimal places.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">knitr<span class="op">::</span><span class="kw">kable</span>(<span class="kw">data.frame</span>(MLB_long <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">   </span><span class="kw">group_by</span>(Player,Year,Result) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">   </span><span class="kw">summarise</span>(<span class="dt">Hits=</span><span class="kw">n</span>()) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">   </span><span class="kw">filter</span>(Result<span class="op">==</span><span class="st">&quot;Hit&quot;</span>) <span class="op">%&gt;%</span>
<span class="st">   </span><span class="kw">left_join</span>(MLB_long <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">               </span><span class="kw">group_by</span>(Player,Year) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">               </span><span class="kw">summarise</span>(<span class="dt">At_Bats=</span><span class="kw">n</span>()),<span class="dt">by=</span><span class="kw">c</span>(<span class="st">&quot;Player&quot;</span>,<span class="st">&quot;Year&quot;</span>)) <span class="op">%&gt;%</span>
<span class="st">   </span><span class="kw">mutate</span>(<span class="dt">Average=</span><span class="kw">round</span>(Hits<span class="op">/</span>At_Bats,<span class="dv">4</span>)) <span class="op">%&gt;%</span>
<span class="st">   </span><span class="kw">select</span>(Year, Player,Average,At_Bats) <span class="op">%&gt;%</span>
<span class="st">   </span><span class="kw">arrange</span>(Year)),<span class="dt">caption=</span><span class="st">&quot;Batting Averages and Total at Bats for Both Years&quot;</span>)</code></pre></div>
<table>
<caption><span id="tab:unnamed-chunk-18">Table 1.4: </span>Batting Averages and Total at Bats for Both Years</caption>
<thead>
<tr class="header">
<th align="right">Year</th>
<th align="left">Player</th>
<th align="right">Average</th>
<th align="right">At_Bats</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">1995</td>
<td align="left">David Justice</td>
<td align="right">0.2530</td>
<td align="right">411</td>
</tr>
<tr class="even">
<td align="right">1995</td>
<td align="left">Derek Jetter</td>
<td align="right">0.2500</td>
<td align="right">48</td>
</tr>
<tr class="odd">
<td align="right">1996</td>
<td align="left">David Justice</td>
<td align="right">0.3214</td>
<td align="right">140</td>
</tr>
<tr class="even">
<td align="right">1996</td>
<td align="left">Derek Jetter</td>
<td align="right">0.3144</td>
<td align="right">582</td>
</tr>
</tbody>
</table>
<p>Finally, we should combine both years. It is clear that we can’t just average the averages since the total at bats is different. We need to find the total hits and divide by the total at bats. This is Table <a href="AR1.html#tab:third-tab">1.3</a> with the addition of the total at bats.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">knitr<span class="op">::</span><span class="kw">kable</span>(MLB_long <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">group_by</span>(Player,Result) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">summarise</span>(<span class="dt">Hits=</span><span class="kw">n</span>()) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">filter</span>(Result<span class="op">==</span><span class="st">&quot;Hit&quot;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">left_join</span>(MLB_long <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">              </span><span class="kw">group_by</span>(Player) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">              </span><span class="kw">summarise</span>(<span class="dt">At_Bats=</span><span class="kw">n</span>()),<span class="dt">by=</span><span class="st">&quot;Player&quot;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">select</span>(<span class="op">-</span>Result) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">Average=</span><span class="kw">round</span>(Hits<span class="op">/</span>At_Bats,<span class="dv">4</span>)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">select</span>(Player,Average,At_Bats) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">arrange</span>(<span class="kw">desc</span>(Player)),<span class="dt">caption=</span><span class="st">&quot;Combined Batting Average for Both Years with Total at Bats&quot;</span>)</code></pre></div>
<table>
<caption><span id="tab:unnamed-chunk-19">Table 1.5: </span>Combined Batting Average for Both Years with Total at Bats</caption>
<thead>
<tr class="header">
<th align="left">Player</th>
<th align="right">Average</th>
<th align="right">At_Bats</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Derek Jetter</td>
<td align="right">0.3095</td>
<td align="right">630</td>
</tr>
<tr class="even">
<td align="left">David Justice</td>
<td align="right">0.2704</td>
<td align="right">551</td>
</tr>
</tbody>
</table>
<p>The two players had similar number of at bats but Derek Jeter had the higher batting average.</p>
</div>
</div>
</div>
<div id="vectors-for-visualization" class="section level3">
<h3><span class="header-section-number">1.4.5</span> Vectors for Visualization</h3>
<p>Since batting average is more a quantitative variable than a qualitative, we decided to use position to represent batting average. The x-axis is the number of batting attempts and the y-axis is the number of hits. The average is the angle, or the slope of the line. Angles are difficult to estimate but easy to compare. We used color to separate the two batters only for the combined years. We included the individual year breakdown but they are difficult to see. We included points to bring them out. The combination of years, or the calculation of combined batting average, is a vector addition and not the addition of fractions. Vectors have both direction and length. The direction is the number of hits over number of at bats, the traditional batting average. The length is related to the number of at bats. The plot shows that Derek Jeter’s combined batting average gets pulled more towards the second year when he had more at bats. The opposite is true for David Justice and that is why we get the reversal.</p>
<p>This might be hard to see in the document so you can open it separately as pdf to see the design better. The link is <a href="http://bit.ly/2tP05tU" class="uri">http://bit.ly/2tP05tU</a></p>
<p>Discussion question: What do you like about the plot? What are the strengths and weaknesses? What changes would you make? Is it better to put the players’ years end to end or does that hide that David Justice is better in each individual year? Does the color help or hurt?</p>
<p>Note for discussion: The angle is the batting average, should we use white space and put an explanation into the graph? What if we had three years, how would we represent them? The labels overlap the lines, should we move them? Hook to next lesson: interaction could help us by selecting a year and turning it off or make more transparent. This question will lead to interaction section.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#par(pty=&quot;s&quot;)</span>
<span class="co">#plot(1,type=&quot;n&quot;,xlim=c(0,700),ylim=c(0,200),xlab=&quot;At Bats&quot;,ylab=&quot;Hits&quot;,asp=1)</span>
<span class="kw">plot</span>(<span class="dv">1</span>,<span class="dt">type=</span><span class="st">&quot;n&quot;</span>,<span class="dt">xlim=</span><span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">800</span>),<span class="dt">ylim=</span><span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">800</span>),<span class="dt">xlab=</span><span class="st">&quot;At Bats&quot;</span>,<span class="dt">ylab=</span><span class="st">&quot;Hits&quot;</span>,<span class="dt">asp=</span><span class="dv">1</span>)
<span class="kw">arrows</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">200</span>,<span class="dv">50</span>,<span class="dt">col=</span><span class="st">&quot;red&quot;</span>)
<span class="kw">arrows</span>(<span class="dv">200</span>,<span class="dv">50</span>,<span class="dv">400</span>,<span class="dv">150</span>,<span class="dt">col=</span><span class="st">&quot;red&quot;</span>)
<span class="kw">arrows</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">400</span>,<span class="dv">150</span>,<span class="dt">col=</span><span class="st">&quot;red&quot;</span>)
<span class="kw">abline</span>(<span class="dv">0</span>,<span class="dv">1</span>)</code></pre></div>
<p><img src="VA-Notes_files/figure-html/unnamed-chunk-20-1.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#par(pty=&quot;s&quot;)</span>
<span class="co">#plot(1,type=&quot;n&quot;,xlim=c(0,700),ylim=c(0,200),xlab=&quot;At Bats&quot;,ylab=&quot;Hits&quot;,asp=1)</span>
<span class="kw">plot</span>(<span class="dv">1</span>,<span class="dt">type=</span><span class="st">&quot;n&quot;</span>,<span class="dt">xlim=</span><span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">700</span>),<span class="dt">ylim=</span><span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">200</span>),<span class="dt">xlab=</span><span class="st">&quot;At Bats&quot;</span>,<span class="dt">ylab=</span><span class="st">&quot;Hits&quot;</span>)
<span class="kw">arrows</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">48</span>,<span class="dv">12</span>,<span class="dt">col=</span><span class="st">&quot;red&quot;</span>)
<span class="kw">arrows</span>(<span class="dv">48</span>,<span class="dv">12</span>,(<span class="dv">48</span><span class="op">+</span><span class="dv">582</span>),(<span class="dv">183</span><span class="op">+</span><span class="dv">12</span>),<span class="dt">col=</span><span class="st">&quot;red&quot;</span>)
<span class="kw">arrows</span>(<span class="dv">0</span>,<span class="dv">0</span>,(<span class="dv">48</span><span class="op">+</span><span class="dv">582</span>),(<span class="dv">183</span><span class="op">+</span><span class="dv">12</span>))</code></pre></div>
<p><img src="VA-Notes_files/figure-html/unnamed-chunk-21-1.png" width="672" /></p>
</div>
</div>
<h3>References</h3>
<div id="refs" class="references">
<div id="ref-FriendlyMeyer:2016:DDAR">
<p>Friendly, Michael, and David Meyer. 2016. <em>Discrete Data Analysis with R: Visualization and Modeling Techniques for Categorical and Count Data</em>. Boca Raton, FL: Chapman &amp; Hall/CRC.</p>
</div>
<div id="ref-FRIENDLY2003509">
<p>Friendly, Michael, and Ernest Kwan. 2003. “Effect Ordering for Data Displays.” <em>Computational Statistics &amp; Data Analysis</em> 43 (4). Elsevier: 509–39. <a href="http://www.sciencedirect.com/science/article/pii/S0167947302002906" class="uri">http://www.sciencedirect.com/science/article/pii/S0167947302002906</a>.</p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="AR1.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="interaction.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/BawCOS/undergraduate-statistics-notes/edit/master/01-introducing-Visual-Analytics.Rmd",
"text": "Edit"
},
"download": ["VA-Notes.pdf", "VA-Notes.epub"],
"toc": {
"collapse": "subsection",
"scroll_highlight": true
},
"toolbar": {
"position": "fixed"
},
"search": true
});
});
</script>

</body>

</html>
