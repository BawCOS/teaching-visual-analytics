<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Lesson Modules for Teaching Visual Analytics</title>
  <meta name="description" content="Lessons on teaching visual analytics in a generic undergraduate classroom">
  <meta name="generator" content="bookdown 0.7 and GitBook 2.6.7">

  <meta property="og:title" content="Lesson Modules for Teaching Visual Analytics" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Lessons on teaching visual analytics in a generic undergraduate classroom" />
  <meta name="github-repo" content="BawCOS/teaching-visual-analytics" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Lesson Modules for Teaching Visual Analytics" />
  
  <meta name="twitter:description" content="Lessons on teaching visual analytics in a generic undergraduate classroom" />
  

<meta name="author" content="David Ebert">
<meta name="author" content="Bradley Warner">


<meta name="date" content="2018-06-26">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="Intro1.html">
<link rel="next" href="Viz1.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="libs/htmlwidgets-1.2/htmlwidgets.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.4/datatables.js"></script>
<link href="libs/dt-core-1.10.16/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.10.16/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.10.16/js/jquery.dataTables.min.js"></script>
<link href="libs/crosstalk-1.0.0/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.0.0/js/crosstalk.min.js"></script>
<link href="libs/jquery-ui-1.11.4/jquery-ui.min.css" rel="stylesheet" />
<script src="libs/jquery-ui-1.11.4/jquery-ui.min.js"></script>
<script src="libs/jquery-ui-1.11.4/jquery.ui.touch-punch.min.js"></script>
<link href="libs/c3-0.4.11/c3.min.css" rel="stylesheet" />
<script src="libs/c3-0.4.11/c3.min.js"></script>
<script src="libs/d3-3.5.9/d3.min.js"></script>
<link href="libs/pivottable-2.11.0/pivot.min.css" rel="stylesheet" />
<script src="libs/pivottable-2.11.0/pivot.min.js"></script>
<script src="libs/pivottable_d3renderers-2.11.0/d3_renderers.min.js"></script>
<script src="libs/pivottable_c3renderers-2.11.0/c3_renderers.min.js"></script>
<script src="libs/polyfill-0.1/polyfill.min.js"></script>
<link href="libs/rpivotTable_style-0.1/rpivotTable.css" rel="stylesheet" />
<script src="libs/rpivotTable-binding-0.2.0/rpivotTable.js"></script>
<script src="libs/plotly-binding-4.7.1/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/plotlyjs-1.29.2/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotlyjs-1.29.2/plotly-latest.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="libs/bootstrap-3.3.2/css/bootstrap.min.css" rel="stylesheet" />
<script src="libs/bootstrap-3.3.2/js/bootstrap.min.js"></script>
<link href="libs/d3scatter-0.0.0/d3scatter.css" rel="stylesheet" />
<script src="libs/d3scatter-0.0.0/d3scatter.js"></script>
<script src="libs/d3scatter-binding-0.1.0/d3scatter.js"></script>
<link href="libs/ionrangeslider-2.1.2/css/ion.rangeSlider.css" rel="stylesheet" />
<link href="libs/ionrangeslider-2.1.2/css/ion.rangeSlider.skinShiny.css" rel="stylesheet" />
<script src="libs/ionrangeslider-2.1.2/js/ion.rangeSlider.min.js"></script>
<script src="libs/strftime-0.9.2/strftime-min.js"></script>
<link href="libs/selectize-0.11.2/css/selectize.bootstrap3.css" rel="stylesheet" />
<script src="libs/selectize-0.11.2/js/selectize.min.js"></script>


<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Lesson Notes for Visual Analytics</a></li>
<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a><ul>
<li class="chapter" data-level="0.1" data-path="who-is-this-book-for.html"><a href="who-is-this-book-for.html"><i class="fa fa-check"></i><b>0.1</b> Who is this book for?</a></li>
<li class="chapter" data-level="0.2" data-path="book-structure-and-how-to-use-it.html"><a href="book-structure-and-how-to-use-it.html"><i class="fa fa-check"></i><b>0.2</b> Book Structure and How to Use It</a><ul>
<li class="chapter" data-level="0.2.1" data-path="book-structure-and-how-to-use-it.html"><a href="book-structure-and-how-to-use-it.html#introduction"><i class="fa fa-check"></i><b>0.2.1</b> Introduction</a></li>
<li class="chapter" data-level="0.2.2" data-path="book-structure-and-how-to-use-it.html"><a href="book-structure-and-how-to-use-it.html#intent"><i class="fa fa-check"></i><b>0.2.2</b> Intent</a></li>
<li class="chapter" data-level="0.2.3" data-path="book-structure-and-how-to-use-it.html"><a href="book-structure-and-how-to-use-it.html#use"><i class="fa fa-check"></i><b>0.2.3</b> Use</a></li>
</ul></li>
<li class="chapter" data-level="0.3" data-path="prerequisites.html"><a href="prerequisites.html"><i class="fa fa-check"></i><b>0.3</b> Prerequisites</a></li>
<li class="chapter" data-level="0.4" data-path="software-packages.html"><a href="software-packages.html"><i class="fa fa-check"></i><b>0.4</b> Software Packages</a></li>
<li class="chapter" data-level="0.5" data-path="acknowledgements.html"><a href="acknowledgements.html"><i class="fa fa-check"></i><b>0.5</b> Acknowledgements</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="Chpt1.html"><a href="Chpt1.html"><i class="fa fa-check"></i><b>1</b> Introducing Visual Analytics - Emphasis on Analytic Reasoning</a><ul>
<li class="chapter" data-level="1.1" data-path="lesson-preparation.html"><a href="lesson-preparation.html"><i class="fa fa-check"></i><b>1.1</b> Lesson Preparation</a><ul>
<li class="chapter" data-level="1.1.1" data-path="lesson-preparation.html"><a href="lesson-preparation.html#objectives"><i class="fa fa-check"></i><b>1.1.1</b> Objectives</a></li>
<li class="chapter" data-level="1.1.2" data-path="lesson-preparation.html"><a href="lesson-preparation.html#preparation"><i class="fa fa-check"></i><b>1.1.2</b> Preparation</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="Intro1.html"><a href="Intro1.html"><i class="fa fa-check"></i><b>1.2</b> Lesson Introduction</a></li>
<li class="chapter" data-level="1.3" data-path="AR1.html"><a href="AR1.html"><i class="fa fa-check"></i><b>1.3</b> Analytic Reasoning</a><ul>
<li class="chapter" data-level="1.3.1" data-path="AR1.html"><a href="AR1.html#analytic-reasoning-explained"><i class="fa fa-check"></i><b>1.3.1</b> Analytic Reasoning Explained</a></li>
<li class="chapter" data-level="1.3.2" data-path="AR1.html"><a href="AR1.html#example"><i class="fa fa-check"></i><b>1.3.2</b> Example</a></li>
<li class="chapter" data-level="1.3.3" data-path="AR1.html"><a href="AR1.html#second-example"><i class="fa fa-check"></i><b>1.3.3</b> Second Example</a></li>
<li class="chapter" data-level="1.3.4" data-path="AR1.html"><a href="AR1.html#other-problem-ideas"><i class="fa fa-check"></i><b>1.3.4</b> Other problem ideas:</a></li>
<li class="chapter" data-level="1.3.5" data-path="AR1.html"><a href="AR1.html#using-analytic-reasoning."><i class="fa fa-check"></i><b>1.3.5</b> Using Analytic Reasoning.</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="Viz1.html"><a href="Viz1.html"><i class="fa fa-check"></i><b>1.4</b> Visualizing data (Re-representation)</a><ul>
<li class="chapter" data-level="1.4.1" data-path="Viz1.html"><a href="Viz1.html#background-on-visualizing-data"><i class="fa fa-check"></i><b>1.4.1</b> Background on Visualizing Data</a></li>
<li class="chapter" data-level="1.4.2" data-path="Viz1.html"><a href="Viz1.html#using-problem"><i class="fa fa-check"></i><b>1.4.2</b> Using Problem</a></li>
<li class="chapter" data-level="1.4.3" data-path="Viz1.html"><a href="Viz1.html#discussion-ideas-4"><i class="fa fa-check"></i><b>1.4.3</b> Discussion ideas</a></li>
<li class="chapter" data-level="1.4.4" data-path="Viz1.html"><a href="Viz1.html#visualization"><i class="fa fa-check"></i><b>1.4.4</b> Visualization</a></li>
<li class="chapter" data-level="1.4.5" data-path="Viz1.html"><a href="Viz1.html#vectors-for-visualization"><i class="fa fa-check"></i><b>1.4.5</b> Vectors for Visualization</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="Inert1.html"><a href="Inert1.html"><i class="fa fa-check"></i><b>1.5</b> Interaction</a><ul>
<li class="chapter" data-level="1.5.1" data-path="Inert1.html"><a href="Inert1.html#background-information-on-interaction"><i class="fa fa-check"></i><b>1.5.1</b> Background Information on Interaction</a></li>
<li class="chapter" data-level="1.5.2" data-path="Inert1.html"><a href="Inert1.html#our-problem"><i class="fa fa-check"></i><b>1.5.2</b> Our Problem</a></li>
</ul></li>
<li class="chapter" data-level="1.6" data-path="final-product.html"><a href="final-product.html"><i class="fa fa-check"></i><b>1.6</b> Final Product</a><ul>
<li class="chapter" data-level="1.6.1" data-path="final-product.html"><a href="final-product.html#discussion-ideas-12"><i class="fa fa-check"></i><b>1.6.1</b> Discussion Ideas</a></li>
<li class="chapter" data-level="1.6.2" data-path="final-product.html"><a href="final-product.html#first-knowledge-product"><i class="fa fa-check"></i><b>1.6.2</b> First Knowledge Product</a></li>
<li class="chapter" data-level="1.6.3" data-path="final-product.html"><a href="final-product.html#discussion-ideas-13"><i class="fa fa-check"></i><b>1.6.3</b> Discussion Ideas</a></li>
<li class="chapter" data-level="1.6.4" data-path="final-product.html"><a href="final-product.html#second-knowledge-product"><i class="fa fa-check"></i><b>1.6.4</b> Second Knowledge Product</a></li>
<li class="chapter" data-level="1.6.5" data-path="final-product.html"><a href="final-product.html#web-resources"><i class="fa fa-check"></i><b>1.6.5</b> Web Resources</a></li>
</ul></li>
<li class="chapter" data-level="1.7" data-path="Conc1.html"><a href="Conc1.html"><i class="fa fa-check"></i><b>1.7</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="Chpt2.html"><a href="Chpt2.html"><i class="fa fa-check"></i><b>2</b> Exploratory Visual Analytics</a><ul>
<li class="chapter" data-level="2.1" data-path="lesson-preparation-1.html"><a href="lesson-preparation-1.html"><i class="fa fa-check"></i><b>2.1</b> Lesson Preparation</a><ul>
<li class="chapter" data-level="2.1.1" data-path="lesson-preparation-1.html"><a href="lesson-preparation-1.html#objectives-1"><i class="fa fa-check"></i><b>2.1.1</b> Objectives:</a></li>
<li class="chapter" data-level="2.1.2" data-path="lesson-preparation-1.html"><a href="lesson-preparation-1.html#preparation-1"><i class="fa fa-check"></i><b>2.1.2</b> Preparation</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="Intro2.html"><a href="Intro2.html"><i class="fa fa-check"></i><b>2.2</b> Lesson Introduction</a></li>
<li class="chapter" data-level="2.3" data-path="DataCol2.html"><a href="DataCol2.html"><i class="fa fa-check"></i><b>2.3</b> Data Collection</a><ul>
<li class="chapter" data-level="2.3.1" data-path="DataCol2.html"><a href="DataCol2.html#load-packages"><i class="fa fa-check"></i><b>2.3.1</b> Load Packages</a></li>
<li class="chapter" data-level="2.3.2" data-path="DataCol2.html"><a href="DataCol2.html#Pop2"><i class="fa fa-check"></i><b>2.3.2</b> Population</a></li>
<li class="chapter" data-level="2.3.3" data-path="DataCol2.html"><a href="DataCol2.html#population-density"><i class="fa fa-check"></i><b>2.3.3</b> Population Density</a></li>
<li class="chapter" data-level="2.3.4" data-path="DataCol2.html"><a href="DataCol2.html#life-expectancy"><i class="fa fa-check"></i><b>2.3.4</b> Life Expectancy</a></li>
<li class="chapter" data-level="2.3.5" data-path="DataCol2.html"><a href="DataCol2.html#fertility-rates"><i class="fa fa-check"></i><b>2.3.5</b> Fertility Rates</a></li>
<li class="chapter" data-level="2.3.6" data-path="DataCol2.html"><a href="DataCol2.html#child-mortality"><i class="fa fa-check"></i><b>2.3.6</b> Child Mortality</a></li>
<li class="chapter" data-level="2.3.7" data-path="DataCol2.html"><a href="DataCol2.html#aging-population"><i class="fa fa-check"></i><b>2.3.7</b> Aging Population</a></li>
<li class="chapter" data-level="2.3.8" data-path="DataCol2.html"><a href="DataCol2.html#final-data"><i class="fa fa-check"></i><b>2.3.8</b> Final Data</a></li>
<li class="chapter" data-level="2.3.9" data-path="DataCol2.html"><a href="DataCol2.html#economic-data"><i class="fa fa-check"></i><b>2.3.9</b> Economic Data</a></li>
<li class="chapter" data-level="2.3.10" data-path="DataCol2.html"><a href="DataCol2.html#summary-of-data-collection"><i class="fa fa-check"></i><b>2.3.10</b> Summary of Data Collection</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="Viz2.html"><a href="Viz2.html"><i class="fa fa-check"></i><b>2.4</b> Visualization of Data</a><ul>
<li class="chapter" data-level="2.4.1" data-path="Viz2.html"><a href="Viz2.html#first-visualizations"><i class="fa fa-check"></i><b>2.4.1</b> First Visualizations</a></li>
<li class="chapter" data-level="2.4.2" data-path="Viz2.html"><a href="Viz2.html#next-visualizations---adding-years-and-focussing"><i class="fa fa-check"></i><b>2.4.2</b> Next Visualizations - Adding Years and Focussing</a></li>
<li class="chapter" data-level="2.4.3" data-path="Viz2.html"><a href="Viz2.html#conclusion-from-visualization"><i class="fa fa-check"></i><b>2.4.3</b> Conclusion from Visualization</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="interactions-with-visualizations.html"><a href="interactions-with-visualizations.html"><i class="fa fa-check"></i><b>2.5</b> Interactions with Visualizations</a><ul>
<li class="chapter" data-level="2.5.1" data-path="interactions-with-visualizations.html"><a href="interactions-with-visualizations.html#first-interactive-plots"><i class="fa fa-check"></i><b>2.5.1</b> First Interactive Plots</a></li>
<li class="chapter" data-level="2.5.2" data-path="interactions-with-visualizations.html"><a href="interactions-with-visualizations.html#nest-gapminder-data-by-country"><i class="fa fa-check"></i><b>2.5.2</b> nest gapminder data by country</a></li>
<li class="chapter" data-level="2.5.3" data-path="interactions-with-visualizations.html"><a href="interactions-with-visualizations.html#add-in-a-plot-column-with-map_plot"><i class="fa fa-check"></i><b>2.5.3</b> add in a plot column with map_plot</a></li>
<li class="chapter" data-level="2.5.4" data-path="interactions-with-visualizations.html"><a href="interactions-with-visualizations.html#plot-it"><i class="fa fa-check"></i><b>2.5.4</b> plot it</a></li>
<li class="chapter" data-level="2.5.5" data-path="interactions-with-visualizations.html"><a href="interactions-with-visualizations.html#dt-options-httpsrstudio.github.iodtoptions.html"><i class="fa fa-check"></i><b>2.5.5</b> DT options <a href="https://rstudio.github.io/DT/options.html" class="uri">https://rstudio.github.io/DT/options.html</a></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="Chpt3.html"><a href="Chpt3.html"><i class="fa fa-check"></i><b>3</b> Inference in Visual Analytics</a><ul>
<li class="chapter" data-level="3.1" data-path="lesson-preparation-differences.html"><a href="lesson-preparation-differences.html"><i class="fa fa-check"></i><b>3.1</b> Lesson Preparation Differences</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="Chpt4.html"><a href="Chpt4.html"><i class="fa fa-check"></i><b>4</b> Forecasting and Prediction</a><ul>
<li class="chapter" data-level="4.1" data-path="lesson-preparation-2.html"><a href="lesson-preparation-2.html"><i class="fa fa-check"></i><b>4.1</b> Lesson Preparation</a><ul>
<li class="chapter" data-level="4.1.1" data-path="lesson-preparation-2.html"><a href="lesson-preparation-2.html#objectives-2"><i class="fa fa-check"></i><b>4.1.1</b> Objectives:</a></li>
<li class="chapter" data-level="4.1.2" data-path="lesson-preparation-2.html"><a href="lesson-preparation-2.html#preparation-2"><i class="fa fa-check"></i><b>4.1.2</b> Preparation</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="case-study.html"><a href="case-study.html"><i class="fa fa-check"></i><b>5</b> Case Study</a></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="AppA.html"><a href="AppA.html"><i class="fa fa-check"></i><b>A</b> Lesson Handouts</a></li>
<li class="chapter" data-level="B" data-path="AppB.html"><a href="AppB.html"><i class="fa fa-check"></i><b>B</b> Project</a><ul>
<li class="chapter" data-level="B.0.1" data-path="AppB.html"><a href="AppB.html#introduction-1"><i class="fa fa-check"></i><b>B.0.1</b> Introduction</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://bawcos.github.io/teaching-visual-analytics/" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Lesson Modules for Teaching Visual Analytics</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="AR1" class="section level2">
<h2><span class="header-section-number">1.3</span> Analytic Reasoning</h2>
<p>This section introduces the concept of analytic reasoning and then uses an example to illustrate the ideas.</p>
<div id="analytic-reasoning-explained" class="section level3">
<h3><span class="header-section-number">1.3.1</span> Analytic Reasoning Explained</h3>
<p>The goal of analysis is to make a decision about a question. This question can be part of a larger analysis problem with many questions. Analytic reasoning requires reasoning logically with the support of numeric evidence. The analyst must understand the limitations of the data and the assumptions of the data transformations and summaries. Again it is important to note that analytics reasoning works in conjunction, not separate from, visualization and interaction. In other words, visual analytics takes analytical reasoning further by taking advantages of a visual and interactive representation of data to aid in the creation of knowledge products or actions.</p>
<p>Many analytical tasks follow a process of • Information gathering • Re-representation of the information in a form that aids analysis • Development of insight through the manipulation of this representation • Creation of some knowledge product or direct action based on the knowledge insight.</p>
</div>
<div id="example" class="section level3">
<h3><span class="header-section-number">1.3.2</span> Example</h3>
<p>We will introduce an example to highlight the ideas and principles of analytic reasoning. The example we selected is easy to understand and allows us to present some of the important concepts of visual analytics. You can pick an example of your own, but remember to keep it simple and easy to understand.</p>
<div id="problem" class="section level4">
<h4><span class="header-section-number">1.3.2.1</span> Problem:</h4>
<p>Often in baseball, teams and fans want to compare players. In the 1990s two extraordinary players were Derek Jeter of the New York Yankees and David Justice of the Atlanta Braves.</p>
</div>
<div id="question" class="section level4">
<h4><span class="header-section-number">1.3.2.2</span> Question:</h4>
<p>Who was the better baseball player? Take some time and discuss how to answer the question.</p>
</div>
<div id="discussion-ideas" class="section level4">
<h4><span class="header-section-number">1.3.2.3</span> Discussion ideas:</h4>
<p>There are many ways to try to answer this question. Someone might say that Jeter was paid more therefore he is better. Or someone would say that the Yankees are a better team and thus Jeter is better. This is known as <a href="http://changingminds.org/disciplines/argument/types_reasoning/butterfly_logic%20.htm">butterfly reasoning</a>. Typically students will not use an analytic reasoning process but more of an intuition or perhaps just a bias. We have forced the students into an intuitive answer which will likely be based on biases and not empirical evidence. Next we will guide the students further along the path of analytic reasoning by narrowing the scope of the problem and introducing data.</p>
</div>
</div>
<div id="second-example" class="section level3">
<h3><span class="header-section-number">1.3.3</span> Second Example</h3>
<p>As another example, but this time using a social context, is the University of California - Berkeley admission bias question. Running this as a lesson would look like this:</p>
<div id="problem-1" class="section level4">
<h4><span class="header-section-number">1.3.3.1</span> Problem:</h4>
<p>In the early 1970s there was a concern that the University of California - Berkeley was discriminating in its admissions process based on gender. Question: How do we decide if Cal-Berkeley is practicing discrimination based on gender? Take some time and discuss how to answer the question.</p>
</div>
<div id="discussion-ideas-1" class="section level4">
<h4><span class="header-section-number">1.3.3.2</span> Discussion ideas:</h4>
<p>There are many ways to try to answer this question. Someone might say that Berkeley had to be because this was the early 1970s and we know that institutional bias against women was common. This is known as butterfly reasoning. This is not analytical reasoning. We must collect some data that will help us in deciding the answer. In practice the is an iterative process.</p>
</div>
</div>
<div id="other-problem-ideas" class="section level3">
<h3><span class="header-section-number">1.3.4</span> Other problem ideas:</h3>
<ol style="list-style-type: lower-roman">
<li>In mathematics, deciding if a function is continuous at a point. Generate a visual of a function and have an epsilon selected at random. The decision maker must determine if there is a delta such that for all the points inside delta of x, the function is within epsilon of the limit.<br />
</li>
<li>In political science, we could use voter data to ask questions about coastal states versus central states.</li>
<li>In biology, we could look at sports data such as Olympic race times.</li>
<li>In engineering, we can look at strength of materials, completion times of projects, or design selection.</li>
</ol>
</div>
<div id="using-analytic-reasoning." class="section level3">
<h3><span class="header-section-number">1.3.5</span> Using Analytic Reasoning.</h3>
<p>We need data and a metric to help us answer the question of who is the better batter. There are many different ways to gather the data but this should be based on the metric we use. In sports analytics, there are many metrics that can be used to compare players, but for ease and the sake of an interesting analysis, we will use batting average. To make the problem even easier, we will provide the raw data from the years 1995 and 1996. Some students may object to this simplified data and you can use these objections as points of discussion on the importance of data that represents the question being asked.</p>
<div id="information-gathering" class="section level4">
<h4><span class="header-section-number">1.3.5.1</span> Information Gathering</h4>
<p>Here is the code to generate the raw data for both batters. The reason we are generating the data is that we simply have the summary data from the records and this is not how data is often obtained. The information gathering and cleaning can often represent a significant time investment. This is often lost on students as data is presented to them in a clean format because of class time concerns. To give the students a sense of the work involved, generate the raw data using the code below, and then give the csv file to them.</p>
<p>First, we will generate a simple frequency form of the data, we are actually working backwards from how you would typically proceed in your analysis but this is done to save you time as an instructor. For this section we will need several packages; let’s load them first.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(vcd)
<span class="kw">library</span>(vcdExtra)
<span class="kw">library</span>(dplyr)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">MLB_freq&lt;-<span class="kw">data.frame</span>(<span class="kw">expand.grid</span>(<span class="dt">Player=</span><span class="kw">c</span>(<span class="st">&quot;Derek Jeter&quot;</span>,<span class="st">&quot;David Justice&quot;</span>),
                    <span class="dt">Year=</span><span class="kw">c</span>(<span class="st">&quot;1995&quot;</span>,<span class="st">&quot;1996&quot;</span>),<span class="dt">Result=</span><span class="kw">c</span>(<span class="st">&quot;Hit&quot;</span>,<span class="st">&quot;Out&quot;</span>)),
                <span class="dt">count=</span><span class="kw">c</span>(<span class="dv">12</span>,<span class="dv">104</span>,<span class="dv">183</span>,<span class="dv">45</span>,<span class="dv">48</span><span class="op">-</span><span class="dv">12</span>,<span class="dv">411</span><span class="op">-</span><span class="dv">104</span>,<span class="dv">582</span><span class="op">-</span><span class="dv">183</span>,<span class="dv">140</span><span class="op">-</span><span class="dv">45</span>))</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">knitr<span class="op">::</span><span class="kw">kable</span>(MLB_freq)</code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">Player</th>
<th align="left">Year</th>
<th align="left">Result</th>
<th align="right">count</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Derek Jeter</td>
<td align="left">1995</td>
<td align="left">Hit</td>
<td align="right">12</td>
</tr>
<tr class="even">
<td align="left">David Justice</td>
<td align="left">1995</td>
<td align="left">Hit</td>
<td align="right">104</td>
</tr>
<tr class="odd">
<td align="left">Derek Jeter</td>
<td align="left">1996</td>
<td align="left">Hit</td>
<td align="right">183</td>
</tr>
<tr class="even">
<td align="left">David Justice</td>
<td align="left">1996</td>
<td align="left">Hit</td>
<td align="right">45</td>
</tr>
<tr class="odd">
<td align="left">Derek Jeter</td>
<td align="left">1995</td>
<td align="left">Out</td>
<td align="right">36</td>
</tr>
<tr class="even">
<td align="left">David Justice</td>
<td align="left">1995</td>
<td align="left">Out</td>
<td align="right">307</td>
</tr>
<tr class="odd">
<td align="left">Derek Jeter</td>
<td align="left">1996</td>
<td align="left">Out</td>
<td align="right">399</td>
</tr>
<tr class="even">
<td align="left">David Justice</td>
<td align="left">1996</td>
<td align="left">Out</td>
<td align="right">95</td>
</tr>
</tbody>
</table>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">MLB_long&lt;-<span class="kw">expand.dft</span>(MLB_freq,<span class="dt">freq=</span><span class="st">&quot;count&quot;</span>)
<span class="kw">head</span>(MLB_long)</code></pre></div>
<pre><code>##        Player Year Result
## 1 Derek Jeter 1995    Hit
## 2 Derek Jeter 1995    Hit
## 3 Derek Jeter 1995    Hit
## 4 Derek Jeter 1995    Hit
## 5 Derek Jeter 1995    Hit
## 6 Derek Jeter 1995    Hit</code></pre>
<p>Now let’s random shuffle to give the appearance of collected data. Note: we are using the dplyr package to complete this work.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">table</span>(MLB_long<span class="op">$</span>Year)</code></pre></div>
<pre><code>## 
## 1995 1996 
##  459  722</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">set.seed</span>(<span class="dv">81</span>)
MLB_long&lt;-MLB_long <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">sample_frac</span>() <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">arrange</span>(Year)</code></pre></div>
<pre><code>## Warning: package &#39;bindrcpp&#39; was built under R version 3.4.4</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(MLB_long)</code></pre></div>
<pre><code>##          Player Year Result
## 1   Derek Jeter 1995    Hit
## 2 David Justice 1995    Out
## 3 David Justice 1995    Out
## 4 David Justice 1995    Hit
## 5 David Justice 1995    Out
## 6 David Justice 1995    Out</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">table</span>(MLB_long)</code></pre></div>
<pre><code>## , , Result = Hit
## 
##                Year
## Player          1995 1996
##   David Justice  104   45
##   Derek Jeter     12  183
## 
## , , Result = Out
## 
##                Year
## Player          1995 1996
##   David Justice  307   95
##   Derek Jeter     36  399</code></pre>
<p>Now to get the data to students you could use the write.csv function</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">write.csv</span>(MLB_long,<span class="st">&quot;./data/batting.csv&quot;</span>)</code></pre></div>
</div>
<div id="transformation-re-representation-of-data" class="section level4">
<h4><span class="header-section-number">1.3.5.2</span> Transformation (Re-representation) of Data</h4>
<p>The data is not in a form that will help make a decision. It is important to ask the students how they would transform the data to help make a decision. There are typically two responses to this request. The first is to get the batting averages for the two players. The second is to summarize the batting averages by each player within each year. This then begs the question of how to aggregate the two years. At this point, try to steer the students to comparing the batting averages within each year. They will note that David Justice has the higher in each year. The next question is how to transform this information into a single metric of overall batting averages. Also note at this point that our transformation is in the form of descriptive numeric summaries. This is often an important first step but in the next section we will work with visual representations of the data. Now, let’s first get the batting average for each year.</p>
</div>
<div id="problem-2" class="section level4">
<h4><span class="header-section-number">1.3.5.3</span> Problem</h4>
<p>How should we transform, summarize, the data in a manner that will help us make a decision?</p>
<div id="discussion-ideas-2" class="section level5">
<h5><span class="header-section-number">1.3.5.3.1</span> Discussion Ideas</h5>
<p>There are many ways to summarize the data. The problem is that we have hits and outs whereas we need total at bats. If we create summary, we will not get an appropriate metric of performance.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">summary</span>(MLB_long)</code></pre></div>
<pre><code>##            Player         Year      Result   
##  David Justice:551   Min.   :1995   Hit:344  
##  Derek Jeter  :630   1st Qu.:1995   Out:837  
##                      Median :1996            
##                      Mean   :1996            
##                      3rd Qu.:1996            
##                      Max.   :1996</code></pre>
<p>We are going have to transform the data. The first step would be to group the data by each of the variables.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">MLB_long <span class="op">%&gt;%</span>
<span class="st">  </span>dplyr<span class="op">::</span><span class="kw">group_by</span>(Year,Player,Result) <span class="op">%&gt;%</span>
<span class="st">  </span>dplyr<span class="op">::</span><span class="kw">summarize</span>(<span class="dt">Total=</span><span class="kw">n</span>())</code></pre></div>
<pre><code>## # A tibble: 8 x 4
## # Groups:   Year, Player [?]
##    Year Player        Result Total
##   &lt;int&gt; &lt;fct&gt;         &lt;fct&gt;  &lt;int&gt;
## 1  1995 David Justice Hit      104
## 2  1995 David Justice Out      307
## 3  1995 Derek Jeter   Hit       12
## 4  1995 Derek Jeter   Out       36
## 5  1996 David Justice Hit       45
## 6  1996 David Justice Out       95
## 7  1996 Derek Jeter   Hit      183
## 8  1996 Derek Jeter   Out      399</code></pre>
<p>Or using different code</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">knitr<span class="op">::</span><span class="kw">kable</span>(<span class="kw">xtabs</span>(<span class="op">~</span>Player<span class="op">+</span>Result<span class="op">+</span>Year,MLB_long),<span class="dt">caption =</span> <span class="st">&quot;A Simple Table Summarizing Batting Performance&quot;</span>)</code></pre></div>
<table>
<caption><span id="tab:first-tab">Table 1.1: </span>A Simple Table Summarizing Batting Performance</caption>
<thead>
<tr class="header">
<th align="left">Player</th>
<th align="left">Result</th>
<th align="left">Year</th>
<th align="right">Freq</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">David Justice</td>
<td align="left">Hit</td>
<td align="left">1995</td>
<td align="right">104</td>
</tr>
<tr class="even">
<td align="left">Derek Jeter</td>
<td align="left">Hit</td>
<td align="left">1995</td>
<td align="right">12</td>
</tr>
<tr class="odd">
<td align="left">David Justice</td>
<td align="left">Out</td>
<td align="left">1995</td>
<td align="right">307</td>
</tr>
<tr class="even">
<td align="left">Derek Jeter</td>
<td align="left">Out</td>
<td align="left">1995</td>
<td align="right">36</td>
</tr>
<tr class="odd">
<td align="left">David Justice</td>
<td align="left">Hit</td>
<td align="left">1996</td>
<td align="right">45</td>
</tr>
<tr class="even">
<td align="left">Derek Jeter</td>
<td align="left">Hit</td>
<td align="left">1996</td>
<td align="right">183</td>
</tr>
<tr class="odd">
<td align="left">David Justice</td>
<td align="left">Out</td>
<td align="left">1996</td>
<td align="right">95</td>
</tr>
<tr class="even">
<td align="left">Derek Jeter</td>
<td align="left">Out</td>
<td align="left">1996</td>
<td align="right">399</td>
</tr>
</tbody>
</table>
<p>This is a good first step but students will have to mentally try to find the total at bats, sum hits and outs, and then divide hits by at bats; see Table <a href="AR1.html#tab:first-tab">1.1</a> and the simple table below it.</p>
<p>As a preview of the visualization section, consider the following table and think about how it presents the information.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ftable</span>(<span class="kw">xtabs</span>(<span class="op">~</span>Player<span class="op">+</span>Year<span class="op">+</span>Result,MLB_long))</code></pre></div>
<pre><code>##                    Result Hit Out
## Player        Year               
## David Justice 1995        104 307
##               1996         45  95
## Derek Jeter   1995         12  36
##               1996        183 399</code></pre>
<p>It should be clear that it is hard to use these summaries to make a decision. In the next section we will discuss visualizing data to include the advantages and disadvantages of each type of table. But for now let’s complete the discussion of comparing batting averages.</p>
<p>Next we need to get a batting average for each player in each year.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">prop.table</span>(<span class="kw">xtabs</span>(<span class="op">~</span>Player<span class="op">+</span>Year<span class="op">+</span>Result,MLB_long),<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>)[,,<span class="dv">1</span>]</code></pre></div>
<pre><code>##                Year
## Player               1995      1996
##   David Justice 0.2530414 0.3214286
##   Derek Jeter   0.2500000 0.3144330</code></pre>
<p>or as in Table <a href="AR1.html#tab:second-tab">1.2</a>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">knitr<span class="op">::</span><span class="kw">kable</span>(MLB_long <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">group_by</span>(Player,Year,Result) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">summarise</span>(<span class="dt">Hits=</span><span class="kw">n</span>()) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">filter</span>(Result<span class="op">==</span><span class="st">&quot;Hit&quot;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">left_join</span>(MLB_long <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">              </span><span class="kw">group_by</span>(Player,Year) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">              </span><span class="kw">summarise</span>(<span class="dt">At_Bats=</span><span class="kw">n</span>()),<span class="dt">by=</span><span class="kw">c</span>(<span class="st">&quot;Player&quot;</span>,<span class="st">&quot;Year&quot;</span>)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">select</span>(<span class="op">-</span>Result) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">Avg=</span><span class="kw">round</span>(Hits<span class="op">/</span>At_Bats,<span class="dv">4</span>)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">select</span>(Player,Year,Avg) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">arrange</span>(Year,<span class="kw">desc</span>(Player)),<span class="dt">caption=</span><span class="st">&quot;Batting Average in each Year&quot;</span>)</code></pre></div>
<table>
<caption><span id="tab:second-tab">Table 1.2: </span>Batting Average in each Year</caption>
<thead>
<tr class="header">
<th align="left">Player</th>
<th align="right">Year</th>
<th align="right">Avg</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Derek Jeter</td>
<td align="right">1995</td>
<td align="right">0.2500</td>
</tr>
<tr class="even">
<td align="left">David Justice</td>
<td align="right">1995</td>
<td align="right">0.2530</td>
</tr>
<tr class="odd">
<td align="left">Derek Jeter</td>
<td align="right">1996</td>
<td align="right">0.3144</td>
</tr>
<tr class="even">
<td align="left">David Justice</td>
<td align="right">1996</td>
<td align="right">0.3214</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="discussion-ideas-3" class="section level4">
<h4><span class="header-section-number">1.3.5.4</span> Discussion Ideas</h4>
<p>Ask the students to decide who is the better player based on the batting averages. The students should point out that David Justice had a better batting average in each year. You can ask how you should combine these averages? The students may claim that it does not matter since David Justice was better in each year. They may also want to take a simple average, which again would lead to David Justice being the better player. Other students will note that the overall batting average is found by dividing totals hits by total at bats. Let’s combine the hits and outs from each year by aggregating across years.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">prop.table</span>(<span class="kw">xtabs</span>(<span class="op">~</span>Player<span class="op">+</span>Result,MLB_long),<span class="dv">1</span>)[,<span class="dv">1</span>]</code></pre></div>
<pre><code>## David Justice   Derek Jeter 
##     0.2704174     0.3095238</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">knitr<span class="op">::</span><span class="kw">kable</span>(MLB_long <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">group_by</span>(Player,Result) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">summarise</span>(<span class="dt">Hits=</span><span class="kw">n</span>()) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">filter</span>(Result<span class="op">==</span><span class="st">&quot;Hit&quot;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">left_join</span>(MLB_long <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">              </span><span class="kw">group_by</span>(Player) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">              </span><span class="kw">summarise</span>(<span class="dt">Total=</span><span class="kw">n</span>()),<span class="dt">by=</span><span class="st">&quot;Player&quot;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">select</span>(<span class="op">-</span>Result) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">Avg=</span><span class="kw">round</span>(Hits<span class="op">/</span>Total,<span class="dv">4</span>)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">select</span>(Player,Avg) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">arrange</span>(<span class="kw">desc</span>(Player)),<span class="dt">caption=</span><span class="st">&quot;Combined Batting Average for Both Years&quot;</span>)</code></pre></div>
<table>
<caption><span id="tab:third-tab">Table 1.3: </span>Combined Batting Average for Both Years</caption>
<thead>
<tr class="header">
<th align="left">Player</th>
<th align="right">Avg</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Derek Jeter</td>
<td align="right">0.3095</td>
</tr>
<tr class="even">
<td align="left">David Justice</td>
<td align="right">0.2704</td>
</tr>
</tbody>
</table>
<p>From Table <a href="AR1.html#tab:third-tab">1.3</a> it now appears that Derek Jeter is the better player.</p>
<p>Who is the better player? Why did we get different results depending on the summary? What concerns do you have with the summaries and data transformations we created?</p>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="Intro1.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="Viz1.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/BawCOS/teaching-visual-analytics/edit/master/01-introducing-Visual-Analytics.Rmd",
"text": "Edit"
},
"download": ["VA-Notes.pdf", "VA-Notes.epub"],
"toc": {
"collapse": "subsection",
"scroll_highlight": true
},
"toolbar": {
"position": "fixed"
},
"search": true
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "";
    if (src === "" || src === "true") src = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
