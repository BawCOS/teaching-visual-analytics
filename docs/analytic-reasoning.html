<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Lesson Modules for Teaching Visual Analytics</title>
  <meta name="description" content="A set of lesson notes to accompany the book Foundations and Application of Statistics: An Introduction Using R by Randall Pruim. This is for a one semester course and does not use the entire book.">
  <meta name="generator" content="bookdown 0.5 and GitBook 2.6.7">

  <meta property="og:title" content="Lesson Modules for Teaching Visual Analytics" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="A set of lesson notes to accompany the book Foundations and Application of Statistics: An Introduction Using R by Randall Pruim. This is for a one semester course and does not use the entire book." />
  <meta name="github-repo" content="BawCOS/undergraduate-statistics-notes" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Lesson Modules for Teaching Visual Analytics" />
  
  <meta name="twitter:description" content="A set of lesson notes to accompany the book Foundations and Application of Statistics: An Introduction Using R by Randall Pruim. This is for a one semester course and does not use the entire book." />
  

<meta name="author" content="Bradley Warner">
<meta name="author" content="David Ebert">
<meta name="author" content="Andrew Richardson">


<meta name="date" content="2018-02-12">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="lesson-introduction.html">
<link rel="next" href="visualizing-data.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="libs/htmlwidgets-0.9/htmlwidgets.js"></script>
<script src="libs/datatables-binding-0.2/datatables.js"></script>
<link href="libs/dt-core-1.10.12/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.10.12/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.10.12/js/jquery.dataTables.min.js"></script>
<script src="libs/plotly-binding-4.7.1/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.0.0/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.0.0/js/crosstalk.min.js"></script>
<link href="libs/plotlyjs-1.29.2/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotlyjs-1.29.2/plotly-latest.min.js"></script>
<link href="libs/jquery-ui-1.11.4/jquery-ui.min.css" rel="stylesheet" />
<script src="libs/jquery-ui-1.11.4/jquery-ui.min.js"></script>
<script src="libs/jquery-ui-1.11.4/jquery.ui.touch-punch.min.js"></script>
<link href="libs/c3-0.4.11/c3.min.css" rel="stylesheet" />
<script src="libs/c3-0.4.11/c3.min.js"></script>
<script src="libs/d3-3.5.9/d3.min.js"></script>
<link href="libs/pivottable-2.11.0/pivot.min.css" rel="stylesheet" />
<script src="libs/pivottable-2.11.0/pivot.min.js"></script>
<script src="libs/pivottable_d3renderers-2.11.0/d3_renderers.min.js"></script>
<script src="libs/pivottable_c3renderers-2.11.0/c3_renderers.min.js"></script>
<script src="libs/polyfill-0.1/polyfill.min.js"></script>
<link href="libs/rpivotTable_style-0.1/rpivotTable.css" rel="stylesheet" />
<script src="libs/rpivotTable-binding-0.2.0/rpivotTable.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="libs/bootstrap-3.3.2/css/bootstrap.min.css" rel="stylesheet" />
<script src="libs/bootstrap-3.3.2/js/bootstrap.min.js"></script>
<link href="libs/ionrangeslider-2.1.2/css/ion.rangeSlider.css" rel="stylesheet" />
<link href="libs/ionrangeslider-2.1.2/css/ion.rangeSlider.skinShiny.css" rel="stylesheet" />
<script src="libs/ionrangeslider-2.1.2/js/ion.rangeSlider.min.js"></script>
<script src="libs/strftime-0.9.2/strftime-min.js"></script>
<link href="libs/selectize-0.11.2/css/selectize.bootstrap3.css" rel="stylesheet" />
<script src="libs/selectize-0.11.2/js/selectize.min.js"></script>
<link href="libs/d3scatter-0.0.0/d3scatter.css" rel="stylesheet" />
<script src="libs/d3scatter-0.0.0/d3scatter.js"></script>
<script src="libs/d3scatter-binding-0.1.0/d3scatter.js"></script>


<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Lesson Notes for Visual Analytics</a></li>
<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a><ul>
<li class="chapter" data-level="0.1" data-path="who-is-this-book-for.html"><a href="who-is-this-book-for.html"><i class="fa fa-check"></i><b>0.1</b> Who is this book for?</a></li>
<li class="chapter" data-level="0.2" data-path="book-structure-and-how-to-use-it.html"><a href="book-structure-and-how-to-use-it.html"><i class="fa fa-check"></i><b>0.2</b> Book Structure and How to Use It</a></li>
<li class="chapter" data-level="0.3" data-path="prerequisites.html"><a href="prerequisites.html"><i class="fa fa-check"></i><b>0.3</b> Prerequisites</a></li>
<li class="chapter" data-level="0.4" data-path="acknowledgements.html"><a href="acknowledgements.html"><i class="fa fa-check"></i><b>0.4</b> Acknowledgements</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="Chpt1.html"><a href="Chpt1.html"><i class="fa fa-check"></i><b>1</b> Introducing Visual Analytics</a><ul>
<li class="chapter" data-level="1.1" data-path="pre-class-notes.html"><a href="pre-class-notes.html"><i class="fa fa-check"></i><b>1.1</b> Pre-Class Notes</a></li>
<li class="chapter" data-level="1.2" data-path="lesson-introduction.html"><a href="lesson-introduction.html"><i class="fa fa-check"></i><b>1.2</b> Lesson Introduction</a></li>
<li class="chapter" data-level="1.3" data-path="analytic-reasoning.html"><a href="analytic-reasoning.html"><i class="fa fa-check"></i><b>1.3</b> Analytic Reasoning</a><ul>
<li class="chapter" data-level="1.3.1" data-path="analytic-reasoning.html"><a href="analytic-reasoning.html#analytic-reasoing-explained."><i class="fa fa-check"></i><b>1.3.1</b> Analytic Reasoing Explained.</a></li>
<li class="chapter" data-level="1.3.2" data-path="analytic-reasoning.html"><a href="analytic-reasoning.html#example"><i class="fa fa-check"></i><b>1.3.2</b> Example</a></li>
<li class="chapter" data-level="1.3.3" data-path="analytic-reasoning.html"><a href="analytic-reasoning.html#second-example"><i class="fa fa-check"></i><b>1.3.3</b> Second Example</a></li>
<li class="chapter" data-level="1.3.4" data-path="analytic-reasoning.html"><a href="analytic-reasoning.html#other-problem-ideas"><i class="fa fa-check"></i><b>1.3.4</b> Other problem ideas:</a></li>
<li class="chapter" data-level="1.3.5" data-path="analytic-reasoning.html"><a href="analytic-reasoning.html#using-analytic-reasoning."><i class="fa fa-check"></i><b>1.3.5</b> Using analytic reasoning.</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="visualizing-data.html"><a href="visualizing-data.html"><i class="fa fa-check"></i><b>1.4</b> Visualizing data</a></li>
<li class="chapter" data-level="1.5" data-path="interaction.html"><a href="interaction.html"><i class="fa fa-check"></i><b>1.5</b> Interaction</a></li>
<li class="chapter" data-level="1.6" data-path="conclusion.html"><a href="conclusion.html"><i class="fa fa-check"></i><b>1.6</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="Chpt2.html"><a href="Chpt2.html"><i class="fa fa-check"></i><b>2</b> Analytic Reasoning</a></li>
<li class="chapter" data-level="3" data-path="Chpt3.html"><a href="Chpt3.html"><i class="fa fa-check"></i><b>3</b> Data Visualiztions</a></li>
<li class="chapter" data-level="4" data-path="Chpt4.html"><a href="Chpt4.html"><i class="fa fa-check"></i><b>4</b> Interactions</a></li>
<li class="chapter" data-level="5" data-path="case-study.html"><a href="case-study.html"><i class="fa fa-check"></i><b>5</b> Case Study</a></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="AppA.html"><a href="AppA.html"><i class="fa fa-check"></i><b>A</b> Lesson Handouts</a></li>
<li class="chapter" data-level="B" data-path="AppB.html"><a href="AppB.html"><i class="fa fa-check"></i><b>B</b> Project</a><ul>
<li class="chapter" data-level="B.0.1" data-path="AppB.html"><a href="AppB.html#introduction"><i class="fa fa-check"></i><b>B.0.1</b> Introduction</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/BawCOS/undergraduate-statistics-notes" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Lesson Modules for Teaching Visual Analytics</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="analytic-reasoning" class="section level2">
<h2><span class="header-section-number">1.3</span> Analytic Reasoning</h2>
<p>This section introduces the concept of analytics reasoning and then uses an example to illustrate the ideas.</p>
<div id="analytic-reasoing-explained." class="section level3">
<h3><span class="header-section-number">1.3.1</span> Analytic Reasoing Explained.</h3>
<p>This section contains some ideas to help the instructor introduce the topic of analytic reasoning.</p>
<p>The goal of analysis is to make a decision about a question. This question can be part of a larger analysis problem with many questions. Analytic reasoning requires reasoning logically with the support of numeric evidence. The analyst must understand the limitations of the data and the assumptions of the data transformations and summaries.</p>
<p>Many analytical reasoning tasks follow a process of • Information gathering • Re-representation of the information in a form that aids analysis • Development of insight through the manipulation of this representation • Creation of some knowledge product or direct action based on the knowledge insight.</p>
<p>This is true of visual analytics except the representation will be visual and interactive.</p>
</div>
<div id="example" class="section level3">
<h3><span class="header-section-number">1.3.2</span> Example</h3>
<p>We will an example to highlight the ideas and principles. We will use this example for the remainder of the lesson. The example should be easy to understand and allow us to present important concepts of visual analytics. The instructor can pick an example of their own, and some ideas are presented later.</p>
<div id="problem" class="section level4">
<h4><span class="header-section-number">1.3.2.1</span> Problem:</h4>
<p>Often in baseball teams and fans want to compare players. In the 1990s two extremely good players were Derek Jeter of the New York Yankees and David Justice of the Atlanta Braves.</p>
</div>
<div id="question" class="section level4">
<h4><span class="header-section-number">1.3.2.2</span> Question:</h4>
<p>Who was the better baseball player? Take some time and discuss how to answer the question.</p>
</div>
<div id="discussion-ideas" class="section level4">
<h4><span class="header-section-number">1.3.2.3</span> Discussion ideas:</h4>
<p>There are many ways to try to answer this question. Someone might say that Jetter was paid more therefore he is better. Or someone would say that the Yankees are a better team and thus Jetter is better. This is known as <a href="http://changingminds.org/disciplines/argument/types_reasoning/butterfly_logic%20.htm">butterfly reasoning</a>. Typically students will not use an analytic reasoning process but more of an intuition or perhaps just a bias.</p>
</div>
</div>
<div id="second-example" class="section level3">
<h3><span class="header-section-number">1.3.3</span> Second Example</h3>
<p>As another example but this time using a social context is the University of California - Berkeley admission bias question. Running this as a lesson would look like this:</p>
<div id="problem-1" class="section level4">
<h4><span class="header-section-number">1.3.3.1</span> Problem:</h4>
<p>In the early 1970s there was a concern that the University of California - Berkeley was discriminating in its admissions process based on gender. Question: How do we decide if Cal-Berkeley is practicing discrimination based on gender? Take some time and discuss how to answer the question.</p>
</div>
<div id="discussion-ideas-1" class="section level4">
<h4><span class="header-section-number">1.3.3.2</span> Discussion ideas:</h4>
<p>There are many ways to try to answer this question. Someone might say that Berkeley had to be because this was the early 1970s and we know that institutional bias against women was common. This is known as butterfly reasoning. This is not analytical reasoning. We must collect some data that will help us in deciding the answer. In practice the is an iterative process.</p>
</div>
</div>
<div id="other-problem-ideas" class="section level3">
<h3><span class="header-section-number">1.3.4</span> Other problem ideas:</h3>
<ol style="list-style-type: lower-roman">
<li>In mathematics, deciding if a function is continuous at a point. Generate a visual of a function and have an epsilon selected at random. The decision maker must determine if there is a delta such that for all the points inside delta of x, the function is within epsilon of the limit.<br />
</li>
<li>In political science, we could use voter data to ask questions about coastal states versus central states.</li>
<li>In biology, we could look at sports data such as Olympic race times.</li>
<li>…</li>
</ol>
</div>
<div id="using-analytic-reasoning." class="section level3">
<h3><span class="header-section-number">1.3.5</span> Using analytic reasoning.</h3>
<p>We need data and a metric to help us answer the question of who is the better batter. There are many different ways to gather the data but this should be based on the metric we use. In sports analytics, there are many metrics that can be used to compare players, but for ease and the sake of an interesting analysis, we will use batting average. To make the problem even easier, we will provide he raw data from the years 1995 and 1996. Some students may object to this simplified data and you can use these objections as points of discussion on the importance of data that represents the question being asked.</p>
<div id="information-gathering" class="section level4">
<h4><span class="header-section-number">1.3.5.1</span> Information Gathering</h4>
<p>Here is the code to generate the raw data for both batters. The information gathering and cleaning can often represent a signifcant time investment. This is often lost on students as data is presented to them in a clean format. This is done for the sake of class time. To give the students a sense of the work involved, generate the raw data using the code below, and then give the csv file to them to work with.</p>
<p>First, we will generate a simple frequency form of the data, we are actually working backwards from how you would typically proceed in your analysis but this is done to save you time as an instructor.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">MLB_freq&lt;-<span class="kw">data.frame</span>(<span class="kw">expand.grid</span>(<span class="dt">Player=</span><span class="kw">c</span>(<span class="st">&quot;Derek Jetter&quot;</span>,<span class="st">&quot;David Justice&quot;</span>),
                    <span class="dt">year=</span><span class="kw">c</span>(<span class="st">&quot;1995&quot;</span>,<span class="st">&quot;1996&quot;</span>),<span class="dt">Result=</span><span class="kw">c</span>(<span class="st">&quot;Hit&quot;</span>,<span class="st">&quot;Out&quot;</span>)),
                <span class="dt">count=</span><span class="kw">c</span>(<span class="dv">12</span>,<span class="dv">104</span>,<span class="dv">183</span>,<span class="dv">45</span>,<span class="dv">48</span><span class="op">-</span><span class="dv">12</span>,<span class="dv">411</span><span class="op">-</span><span class="dv">104</span>,<span class="dv">582</span><span class="op">-</span><span class="dv">183</span>,<span class="dv">140</span><span class="op">-</span><span class="dv">45</span>))</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">knitr<span class="op">::</span><span class="kw">kable</span>(MLB_freq)</code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">Player</th>
<th align="left">year</th>
<th align="left">Result</th>
<th align="right">count</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Derek Jetter</td>
<td align="left">1995</td>
<td align="left">Hit</td>
<td align="right">12</td>
</tr>
<tr class="even">
<td align="left">David Justice</td>
<td align="left">1995</td>
<td align="left">Hit</td>
<td align="right">104</td>
</tr>
<tr class="odd">
<td align="left">Derek Jetter</td>
<td align="left">1996</td>
<td align="left">Hit</td>
<td align="right">183</td>
</tr>
<tr class="even">
<td align="left">David Justice</td>
<td align="left">1996</td>
<td align="left">Hit</td>
<td align="right">45</td>
</tr>
<tr class="odd">
<td align="left">Derek Jetter</td>
<td align="left">1995</td>
<td align="left">Out</td>
<td align="right">36</td>
</tr>
<tr class="even">
<td align="left">David Justice</td>
<td align="left">1995</td>
<td align="left">Out</td>
<td align="right">307</td>
</tr>
<tr class="odd">
<td align="left">Derek Jetter</td>
<td align="left">1996</td>
<td align="left">Out</td>
<td align="right">399</td>
</tr>
<tr class="even">
<td align="left">David Justice</td>
<td align="left">1996</td>
<td align="left">Out</td>
<td align="right">95</td>
</tr>
</tbody>
</table>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">MLB_long&lt;-<span class="kw">expand.dft</span>(MLB_freq,<span class="dt">freq=</span><span class="st">&quot;count&quot;</span>)
<span class="kw">head</span>(MLB_long)</code></pre></div>
<pre><code>##         Player year Result
## 1 Derek Jetter 1995    Hit
## 2 Derek Jetter 1995    Hit
## 3 Derek Jetter 1995    Hit
## 4 Derek Jetter 1995    Hit
## 5 Derek Jetter 1995    Hit
## 6 Derek Jetter 1995    Hit</code></pre>
<p>Now let’s random shuffle to give the appearance of collected data. Note: we are using the dplyr package to complete this work.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">table</span>(MLB_long<span class="op">$</span>year)</code></pre></div>
<pre><code>## 
## 1995 1996 
##  459  722</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">set.seed</span>(<span class="dv">81</span>)
MLB_long&lt;-MLB_long <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">sample_frac</span>() <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">arrange</span>(year)
<span class="kw">head</span>(MLB_long)</code></pre></div>
<pre><code>##          Player year Result
## 1  Derek Jetter 1995    Hit
## 2 David Justice 1995    Out
## 3 David Justice 1995    Out
## 4 David Justice 1995    Hit
## 5 David Justice 1995    Out
## 6 David Justice 1995    Out</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">table</span>(MLB_long)</code></pre></div>
<pre><code>## , , Result = Hit
## 
##                year
## Player          1995 1996
##   David Justice  104   45
##   Derek Jetter    12  183
## 
## , , Result = Out
## 
##                year
## Player          1995 1996
##   David Justice  307   95
##   Derek Jetter    36  399</code></pre>
<p>Now to get the data to students you could use the write.csv function</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">write.csv</span>(MLB_long,<span class="st">&quot;./data/batting.csv&quot;</span>)</code></pre></div>
</div>
<div id="transformation-of-data" class="section level4">
<h4><span class="header-section-number">1.3.5.2</span> Transformation of Data</h4>
<p>The data is not in a form that will help make a decision. It is important to ask the students how they would transform the data to help make a decision. There are typically two responses. The first is to get the batting averages for the two players. The second is to summarize the batting averages by each player within each year. This then begs the question of how to aggreagrate the two years. At this point, try to steer the students to comparing the batting averages within each year. They will not that David Justice has the higher in each year. The next question is how to transform this information into a single metric of overall batting averages. First let’s get the average for each year.</p>
<div id="discussion-idea" class="section level5">
<h5><span class="header-section-number">1.3.5.2.1</span> Discussion Idea</h5>
<p>How should we transform, summarize, the data in a manner that will help us make a decision?</p>
</div>
</div>
<div id="code" class="section level4">
<h4><span class="header-section-number">1.3.5.3</span> Code</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">knitr<span class="op">::</span><span class="kw">kable</span>(MLB_long <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">group_by</span>(Player,year,Result) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">summarise</span>(<span class="dt">Hits=</span><span class="kw">n</span>()) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">filter</span>(Result<span class="op">==</span><span class="st">&quot;Hit&quot;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">left_join</span>(MLB_long <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">              </span><span class="kw">group_by</span>(Player,year) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">              </span><span class="kw">summarise</span>(<span class="dt">Total=</span><span class="kw">n</span>()),<span class="dt">by=</span><span class="kw">c</span>(<span class="st">&quot;Player&quot;</span>,<span class="st">&quot;year&quot;</span>)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">select</span>(<span class="op">-</span>Result) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">Avg=</span><span class="kw">round</span>(Hits<span class="op">/</span>Total,<span class="dv">4</span>)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">select</span>(Player,year,Avg) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">arrange</span>(year))</code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">Player</th>
<th align="right">year</th>
<th align="right">Avg</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">David Justice</td>
<td align="right">1995</td>
<td align="right">0.2530</td>
</tr>
<tr class="even">
<td align="left">Derek Jetter</td>
<td align="right">1995</td>
<td align="right">0.2500</td>
</tr>
<tr class="odd">
<td align="left">David Justice</td>
<td align="right">1996</td>
<td align="right">0.3214</td>
</tr>
<tr class="even">
<td align="left">Derek Jetter</td>
<td align="right">1996</td>
<td align="right">0.3144</td>
</tr>
</tbody>
</table>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">knitr<span class="op">::</span><span class="kw">kable</span>(MLB_long <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">group_by</span>(Player,Result) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">summarise</span>(<span class="dt">Hits=</span><span class="kw">n</span>()) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">filter</span>(Result<span class="op">==</span><span class="st">&quot;Hit&quot;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">left_join</span>(MLB_long <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">              </span><span class="kw">group_by</span>(Player) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">              </span><span class="kw">summarise</span>(<span class="dt">Total=</span><span class="kw">n</span>()),<span class="dt">by=</span><span class="st">&quot;Player&quot;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">select</span>(<span class="op">-</span>Result) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">Avg=</span><span class="kw">round</span>(Hits<span class="op">/</span>Total,<span class="dv">4</span>)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">select</span>(Player,Avg))</code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">Player</th>
<th align="right">Avg</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">David Justice</td>
<td align="right">0.2704</td>
</tr>
<tr class="even">
<td align="left">Derek Jetter</td>
<td align="right">0.3095</td>
</tr>
</tbody>
</table>
<p>Discussion ideas: Who is the better batter? What concerns do you have with this summary and data transformation? If we switched the two rows, would that lead to a different impression of the data (this is a lead into visualization)?</p>
<table>
<thead>
<tr class="header">
<th></th>
<th align="right">1995</th>
<th align="right">1996</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Jeter</td>
<td align="right">0.250</td>
<td align="right">0.314</td>
</tr>
<tr class="even">
<td>Justice</td>
<td align="right">0.253</td>
<td align="right">0.321</td>
</tr>
</tbody>
</table>
<p>1995 1996 Derek Jeter 0.250 0.314 David Justice 0.253 0.321</p>
<p>This transformation loses too much information; that is the problem of using a decimal. We don’t know how many times each player batted.</p>
<p>You could export this data into a csv file using the following write.csv function in R.</p>
<p>Here is a summary of the ratio of hits to at bats for each year.</p>
<p>1995 1996 Derek Jeter 12/48 183/582 David Justice 104/411 45/140</p>
<p>Discussion ideas: Who is the better batter? What are the advantages and disadvantages of this summary compared to the last?</p>
<p>Now let’s look at combining years. One way that is tempting is to take a simple average of the the two years. This is wrong as the number of at bats is not the same. Below is the table for the combined years.</p>
<p>Combined Average Derek Jeter 195/630 0.300 David Justice 149/551 0.270</p>
<p>Discussion ideas: Now, based on average, it appears that Derek Jeter is the better batter. What happened? Who is the better batter and why?</p>
<p>Let’s find another way to visualize the data besides counts in a table.</p>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="lesson-introduction.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="visualizing-data.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/BawCOS/undergraduate-statistics-notes/edit/master/01-introducing-Visual-Analytics.Rmd",
"text": "Edit"
},
"download": ["VA-Notes.pdf", "VA-Notes.epub"],
"toc": {
"collapse": "subsection",
"scroll_highlight": true
},
"toolbar": {
"position": "fixed"
},
"search": true
});
});
</script>

</body>

</html>
